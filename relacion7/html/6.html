<!DOCTYPE html>
<html>
<head>
  <title>Formulario de Registro</title>
</head>
<body>
  <h1>Formulario de Registro</h1>

  <form name="miFormulario" onsubmit="return validarFormulario()" method="post">
    <label>Nombre:</label>
    <input type="text" name="nombre" required><br>
    <br>
    <label>Apellidos:</label>
    <input type="text" name="apellidos" required><br>
    <br>
    <label>Dirección:</label>
    <input type="text" name="direccion" required><br>
    <br>
    <label>Comentarios:</label>
    <textarea name="comentarios" required></textarea><br>
    <br>
    <label>Teléfono:</label>
    <input type="number" name="telefono" required><br>
    <br>
    <label>Código Postal:</label>
    <input type="number" name="codigoPostal" required><br>
    <br>
    <label>Edad:</label>
    <input type="number" name="edad" required><br>
    <br>
    <label>Email:</label>
    <input type="email" name="email" required><br>
    <br>
    <label>Provincia: </label>
    <input type="text" name="provincia" required><br>
    <br>
    <div id="resultado">Sexo: </div>
    <input type="radio" name="opcion" value="opcion1" onclick="seleccionarOpcion('Opción 1')">Hombre<br>
    <input type="radio" name="opcion" value="opcion2" onclick="seleccionarOpcion('Opción 2')">Mujer<br>
    <br>
    <div id="caja">Checkbox: </div>
    <br>

    <input type="submit" value="Enviar">  

    <script>
        function validarFormulario() {
          var nombre = document.forms["miFormulario"]["nombre"].value;
          var apellidos = document.forms["miFormulario"]["apellidos"].value;
          var direccion = document.forms["miFormulario"]["direccion"].value;
          var comentarios = document.forms["miFormulario"]["comentarios"].value;
    
          if (nombre == "" || apellidos == "" || direccion == "" || comentarios == "") {
            alert("Por favor, complete todos los campos de texto.");
            return false;
          }
    
          var telefono = document.forms["miFormulario"]["telefono"].value;
          var codigoPostal = document.forms["miFormulario"]["codigoPostal"].value;
          var edad = document.forms["miFormulario"]["edad"].value;
    
          if (isNaN(telefono) || isNaN(codigoPostal) || isNaN(edad)) {
            alert("Por favor, ingrese valores numéricos válidos en los campos correspondientes.");
            return false;
          }
    
          var email = document.forms["miFormulario"]["email"].value;
    
          if (!validarEmail(email)) {
            alert("Por favor, ingrese una dirección de correo electrónico válida.");
            return false;
          }
    
          var provincia = document.forms["miFormulario"]["provincia"].value;
          var sexo = document.forms["miFormulario"]["sexo"].value;
    
          if (provincia == "" || sexo == "") {
            alert("Por favor, seleccione una opción de la lista desplegable.");
            return false;
          }
    
          var condicionesGenerales = document.forms["miFormulario"]["condicionesGenerales"].checked;
          var avisoLegal = document.forms["miFormulario"]["avisoLegal"].checked;
    
          if (!condicionesGenerales || !avisoLegal) {
            alert("Por favor, acepte las condiciones generales y el aviso legal para continuar.");
            return false;
          }
    
          return true;
        }
    
        function validarEmail(email) {
          var re = /\S+@\S+\.\S+/;
          return re.test(email);
        }
    
        function seleccionarOpcion(opcion) {
          var resultado = document.getElementById('resultado');
        }    

        window.onload = function() {
      var checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.id = 'micaja';
      checkbox.name = 'micaja';

      var label = document.createElement('label');
      label.htmlFor = 'micaja';
      label.appendChild(document.createTextNode('Condiciones Generales y Avisos Legales'));

      var caja = document.getElementById('caja');
      caja.appendChild(checkbox);
      caja.appendChild(label);
    };

      </script>
</body>
</html>